<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BTC Balance Monitor</title>
<style>
  /* üåô Background & Global Style */
  body {
    font-family: 'Poppins', system-ui, sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #f5f7fa;
    min-height: 100vh;
  }
  header {
    text-align: center;
    padding: 24px 16px 12px;
  }
  h1 {
    margin: 0;
    font-weight: 700;
    font-size: 1.9rem;
    background: linear-gradient(90deg, #00f2fe, #4facfe);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .sub {
    font-size: 0.9rem;
    opacity: 0.8;
  }

  /* üßä Container */
  .container {
    max-width: 850px;
    margin: 0 auto;
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    padding: 16px 20px 30px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.25);
  }

  /* üß≠ Controls */
  .controls {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
  }
  button {
    background: linear-gradient(90deg, #4facfe, #00f2fe);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 8px 14px;
    cursor: pointer;
    font-weight: 600;
    transition: 0.2s;
  }
  button:hover { transform: scale(1.05); }
  .btn-ghost {
    background: transparent;
    border: 1px solid rgba(255,255,255,0.4);
    color: #fff;
  }
  select {
    background: rgba(255,255,255,0.1);
    color: #fff;
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 6px;
    padding: 4px 8px;
  }
  .status { margin-left:auto; font-size:0.9rem; opacity:0.8; }

  /* üìã Table */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 8px;
    border-radius: 12px;
    overflow: hidden;
  }
  thead {
    background: rgba(255,255,255,0.1);
  }
  th, td {
    padding: 10px 8px;
    text-align: left;
  }
  th {
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 1px;
    color: #aee8ff;
  }
  tbody tr {
    border-bottom: 1px solid rgba(255,255,255,0.1);
    transition: background 0.3s ease;
  }
  tbody tr:hover {
    background: rgba(255,255,255,0.06);
  }
  .addr {
    font-family: monospace;
    font-size: 0.88rem;
    color: #f8f9fa;
  }
  .delta-up {
    color: #4aff9e;
    font-weight: 700;
  }
  .delta-none {
    color: #ddd;
  }
  .link {
    color: #7dd3ff;
    text-decoration: none;
  }
  .link:hover {
    text-decoration: underline;
  }

  /* ü™Ñ Notification Box */
  .notif {
    margin-top: 10px;
    padding: 10px;
    border-radius: 8px;
    background: rgba(255,255,255,0.12);
    border-left: 4px solid #00f2fe;
    display: none;
  }

  /* üì± Responsive */
  @media(max-width:700px){
    th, td { font-size: 0.8rem; }
    h1 { font-size: 1.5rem; }
  }
</style>
</head>
<body>

<header>
  <h1>BTC Balance Monitor</h1>
  <div class="sub">Pantau saldo alamat Bitcoin Anda secara real-time</div>
</header>

<div class="container">
  <div class="controls">
    <button id="refreshBtn">üîÑ Refresh Sekarang</button>
    <button class="btn-ghost" id="togglePolling">‚è∏ Jeda</button>
    <label>Interval:
      <select id="intervalSelect">
        <option value="30">30s</option>
        <option value="60" selected>60s</option>
        <option value="120">120s</option>
        <option value="300">5m</option>
      </select>
    </label>
    <div class="status">Terakhir update: <span id="lastUpdated">-</span></div>
  </div>

  <div class="notif" id="notifBox"></div>

  <table id="balancesTable">
    <thead>
      <tr>
        <th>No</th>
        <th>Address</th>
        <th>Saldo (BTC)</th>
        <th>Delta</th>
        <th>Explorer</th>
      </tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>
</div>

<script>
(() => {
  const ADDRESSES = [
    "1EHNa6Q4Jz2uvNExL497mE43ikXhwF6kZm",
    "1LagHJk2FyCV2VzrNHVqg3gYG4TSYwDV4m",
    "bc1qzw8gr3rpr538ahlhycdgeaj634pkn8dvunqxr8",
    "1MnyqgrXCmcJqJHBYEsAWf7oMyqJAS81eC",
    "1E1NUNmYw1G5c3FKNPd435QmDvuNG3auYk",
    "1UCZSVufT1PNimutbPdJUiEyCYSiZAD6n",
    "1BYbgHpSKQCtMrQfwN6b6n5S718EJkEJ41",
    "1JMcEcKXQ7xA7JLAMPsBmHz68bzugYtdrv",
    "1CijKR7rDvJJBJfSPyUYrWC8kAsQLy2B2e",
    "1GDWJm5dPj6JTxF68WEVhicAS4gS3pvjo7",
    "1NokMRjkCGBmy8F3JRdX5XHyXqY8Yxvd4i",
    "1LWsLyY2j2mPtYcG9yG2bDFwTWryiJL6sp",
    "1Q2ndXEiSc1yevvPzEfQ4wuwKEhyyE1Nsj",
    "1KgVr2GExouGLAeAt79KwxykCck4k9Cexk",
    "13xG3mC4TXUn8cRgqJG5eG9TDw4fFcztfE",
    "18XrReT5ChW8qgXecNgKTU5T6MrMMLnV8H",
    "1LwjY8QPCW46jXn79eeN5SfZDsYNB9qDj1",
    "1BBwZVdBjoPxotHfrKLpHJBSy7vmc2pjex",
    "13zGBax475zUoLFatjye7Rp48vPrtiaeqs",
    "1LWWyaRPtU7PHHEN67Zh8qhmZyAoaRubcw",
    "19vxtDbLMNasSpbAEZd7va5Qge6d2zYWbp",
    "19WcSz4FxGH7CRqChvXaFW42UHnbQBicky",
    "1MNagJqYUsWBD47QbsebCT2Lt7GwZtjkg",
    "145TcwDemMhjNiSAMxA5q14HTRuvNJFRx4",
    "1JZC74Q76Ms8TSvB7H7Dc93SNRzRzNmYFc",
    "1Gggh1qxKS7qSZJ8u3gKNqnSvHXQhQDyo2",
    "1LNLqCerQQ6j9iKs39VP6vNJHSpzNrFKJj",
    "19HkpLyo2WQJ3SiCmFANVuoQvg4UAX43uG",
    "1LYxTHbQLwmeTFa2dpYUFWwYZqoeJwAQmt",
    "1DCYmXCRYXSPxsSFTRuveKRfqiCFmwNFbW",
    "1KWj99Jwd9LGGC2Y1c9c4cmvWvYTQrLFVc",
    "1GqHRfbwAtWc6zN4TL5xC5yNRwAXunfhUJ",
    "1B7nMKLwh76G84u1xvk4CnhPK5YcPr2jvT",
    "1F83LVL8YKm4ugbNt2ePFVmsyoiHrx4NF7",
    "1Cw4iTCkanJFZhLAQh3hBzD22QdBMrkPND",
    "1GgD7fHa8ZRczoMQagVzYc73ioTvoe3sZu",
    "1EEp8e3dhdGc8MARVh9zPYqFGBdyGX6hxc",
    "17RjnQF8VWkcqyAHvY1QA1jNyx1xPVnB5d",
    "1Cyr9LQ7F3PZNjiJCcafLLh6F1RDireoCn",
    "1Akt9SAP6Vvq1BfNcNWwvANgqXkNmZ2uz7",
    "182WMwUZYz4vksjnhzU6GpCtKW3g3HKwhb",
    "1HGn3jxoSh8twi4mR3iaNmZr6pbHgjFJEg",
    "1N6XDASWPttVf1yNCbZYgyE8trkM2k9RH7",
    "1Q9DQUn6aeKKEQFDVYSMNBjCcLYaQnRccB",
    "1MqWUyivo9sj323sirtbxZ1S23vPA36FDK",
    "1GTy3GAexCP74XVouxc7ZUP9s2qheQVDDz",
    "1Baf2cr6Sh1va2mEjPnNMxeFtQ2p3u5bNe",
    "1EtppGCHU29KoJAwwU5sLdmeMim7GzBb5z",
    "18JVE1MSS7a2NEhtHJkxhwgvT4hLQYBw3w",
    "137DbqLHaL32CLg91FYStaGi99y3H5xHNS",
    "1GgWkqiKTYgZmWbx824AfKrHBLKHn71NL7",
    "1Px5Kp4aZgPmVxJV9sWgLj6dEWcFMec9Fo",
    "1GZnahwoL6K91sdzNEg1vxZ5LJogFSu1b",
    "1L6qp71nqFbTTFTQYGQeLg94AkaeYJW1J",
    "1LPLZnAzj34AgehA56DvDahuyxinZgeM3e",
    "1EYQRFJ1z1WzhPs17sZPzYnWxoYXUs8cKj",
    "1PnVcifB9EBwbaAauprqcucPgfUnrRLtWg",
    "1DbZj2r2pSz8iq6MrMLENMusrar3YdhdaY",
    "16RwUYX9uRx3AttTa8zY6JvauPYSgLDoSy",
    "132vDcKDe96wL2GLLznueKnGVP4RnAX5xH",
    "1HKvprhpBuuL5sbY6wkmgKcM97ggEG14Ab",
    "1BHQRSk1X4ERn3UAMcsSgJzCkvw2wvE5CC",
    "15CHsSNH3SmEfoc2mau11z7inZiUZvRfyr",
    "1FaxsybmpvrX4yDCt1R9mu2oGHpdpLzbkb",
    "1FHcYth4LRJMwNx2y8NR5DH7sYCiVzXs3Y",
    "1QAALUJNskZWEbvwKXoTteowgs9xGGeAZR",
    "1B8EsE44dqKSbVdqgnd9aTQex7r4G6Bw1P",
    "1C77qaBvJ2mGAb9QmcuBHrD6sbYy9V8Rc7",
    "1KFLggHezq3kiAtpaKMeQPcnoWsXuZHRyn",
    "17SNLYKhp1sacBNRQRJyfmh1ZLHdFYwhNC",
    "1Pnd4E94wguWsTWw8iGhyjdJ4FHUouTu7K",
    "1PffYARJERxj2Y3wUpLY8LJ9hcRRRCkB5Z",
    "14sNbmEhgiGX6BZe9Q5PCgTQT3576mniZt",
    "1BLXTrgdmZfjk26ULK5FzdY9hHYcT9vGkY",
    "1AdaHxALc5jknZVmNtcduvkD33WBv3sX6i",
    "1ESJVfV5UVERkWVfMjsLwJT88yMJHi8R",
    "1P4C2RHfYZjU2Eca3mAwcHFwnYHcM4PxLn",
    "1GX2tP5ds3LyFypjD1wnKapvwV1mgZos3G",
    "1BoH6QH9n2pftQYRU5kganogxaNtTCo5cJ",
    "1L2YxutDBfZ33e4mM7gxoDo7t8rj9UxB8z",
    "16Uhv71wNqMeaTW6YZQ8L3SaeVuomoD3dX",
    "17fGEEDHbspV7xAxpjhsFFK4tkgfvonyEE",
    "19tbjBguyRGMSq9EVSNhrCA23ZUx4Cgx23",
    "1FaFkutPqwakXYwS4umygTAa7ozUkKfxSp",
    "1CKAkV2EVrPFF8oqKvCPGLvBVJ63wpChmD",
    "1BsyFuJSKj58dmWXSt2EeE5PAp2EmyYwnJ",
    "1B5edeYL7WEmhkKP3FEkURjB9ZXVrc3FCQ",
    "1Mv7xTXisEUQZ4aeQmDmmYKqLVw3PoNGA1",
    "15FPq6oDDn2sjtMZfnMn2QhvR7XeEMDYQS",
    "1MAieZnEeibHBCnSitY7ujKs4Gfi2RuZDy",
    "1P1Dur122Pzey73fFyUgfSbcxDdedSSm4z",
    "189mvaHbMhvah3JYYPk9TVZTBp4bDyZWxm",
    "1ADtEbG5UAnrqSTz8CssEPXFLYTM6mfCiA",
    "1LtUqEjvsTh4B5GtDmBV8upuRD6QcRTeCx",
    "157RMZhbBLC1wucv3jxQqqHjbKezL1yy7g",
    "13ogqrMb6hJK1tuD6xhiVzGepr3sWLUQJD",
    "1BiXAVzed7Ue5kG2ehnsWcfqQjdMcY2hqu",
    "17zHuCFs5WNBkFfH38RDN8NDCUZv34aUwE",
    "1BAjqraowRUrDXbruNShnQ32Fwiy5m5M5v",
    "18CW9Zv8rC8UcLSMHJGZSJ2uTHcqBEoa7D",
    "1PcTuSTm1UGK58YiuDir58ED7KnrNMUjpr",
    "16g79Dj7FiAZ964LxqcoBFNjFbL6kJoisX",
    "134hoUfpzKWFqLMgrELRnERQemU3FAiY3v",
    "1HxpsY48MpH4kvi2H23vDwdaBSa2paSipX",
    "1DerC5SzMPgBN4o6yaxcRZ7TMBCDus6nLT",
    "1KeF7jzYkq8FdSnKwYLBEc3uJH7fwaxE8S",
    "18zQpC5g54xA6mWeLi8cucQjykHVNoeSJH",
    "1PFwKya5dQFrxE9XZ9LV24ASaq5v58WLEe",
    "18wkBZj5sTSUPT9Vvw66eb99ZvBA7STvBg",
    "179NZfVhPXssS42hs2o9ANABMcReQiovym",
    "1Q4rfQLQF9yKN2Ay2NNBwLNPSy4sDbwNnd",
    "1MsUtV4HwbEX6pnPa1cAfzJTn7oNufW5p4",
    "1EWCz4DrTShf9vFThywg2WfDyrdV4Wy2SN",
    "1LvbRi7aCjENKCzDMTsaoZ8sKsg1B9CqLQ",
    "1MNViv4dYbLkxH5UyiVxs9AZqYbPBwz995",
    "13TQKnr3psXk7Zw9xi6hsrJcdqKRLidhux",
    "16NUWSmWh7K6e885kybvaDdBoFQPZeDUpy",
    "1Pt8N7xSic1oEKE8pPDEJ96KcnVFU69HRp",
    "1CSPhHszH4S4Hhrrx8ZdmJWC3GLTpuhsur",
    "19JJNLkZkaV9Z6SpxUbPuJ7X6hBsgsQ8K6",
    "1BfGgoPFwehgJxZKHnvm3ytCNv5ApD7vTu",
    "1NwhxtuUW2dg7RPkaypDpLW9JS2dqfEzNb",
    "1HHKanEL28o5Nrui8byqTNwFtWpdVEPzw5",
    "1KmobiUwSFcKyDX2z1Ss2TVL5yLq2BnxrS",
    "1QCoHemDLMTaSJb7heXUHLsu6YPyu5iDEv",
    "163bgHt747rfMKf7tM6XEoCzhKbvrYgZ6N",
    "1FB8cZijTpRQp3HX8AEkNuQJBqApqfTcX7",
    "1EoXPE6MzT4EnHvk2Ldj64M2ks2EAcZyH4",
    "1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH",
    "1cMh228HTCiwS8ZsaakH8A8wze1JR5ZsP",
    "1CUNEBjYrCn2y1SdiUMohaKUi4wpP326Lb",
    "1JtK9CQw1syfWj1WtFMWomrYdV3W2tWBF9",
    "17Vu7st1U1KwymUKU4jJheHHGRVNqrcfLD",
    "1Cf2hs39Woi61YNkYGUAcohL2K2q4pawBq",
    "19ZewH8Kk1PDbSNdJ97FP4EiCjTRaZMZQA",
    "1EhqbyUMvvs7BfL8goY6qcPbD6YKfPqb7e",
    "1HSxWThjiwbC4dJbXHMpBfwRenB12UguG5",
    "13DaZ9nfmJLfzU6oBnD2sdCiDmf3M5fmLx",
    "15wPJhwthAkBtUgx3qFEyCtnK7piuu6Xvr",
    "1M9sZKsStVRZyBZSSVe13XMGRtCHkNj7VD",
    "18xiXDdYhapNJoAp4UAkJa1WZT9U9FmQiD",
    "1BS2vyPFUSDKfJKw35MyAAUvSzXpcBLgSJ",
    "1FZoTz4UBrfjpf7DdGGuLdPBqSMx65tKuy",
    "19p7ktDbdJnmV4YLC7zQ37RsYczMZJmd6q",
    "18FtYoEJipP5bCJnjgWdeeEbxSvozSjEUA",
    "1Ny3b8r8HhkQtwUBePqKdU31qBV1xWS64Q",
    "1AmybvuPDrDpsqsgSzqbwALGcW1t6Yn9uN",
    "1693NYwCPZYAdF1pYdVfrfCR6c9acpNGQd",
    "1E6NuFjCi27W5zoXg8TRdcSRq84zJeBW3k",
    "1GWqhXL1DGAEc6MVntAnmQe4GFnR9k2Ykd",
    "18JHgcWCoD1gbj6wpbDH5Us3HKaJozj6nt",
    "1KpKNLiZ4mQ6qdTwDrJBDLmBJDnD2n87NH",
    "1832sK2wWthm6z8vXaXTd8wUP4XaqrsPVu",
    "12e2Zo4VFe2j4Cs3gru55H8JZ7PZXppHnd",
    "13zdFFdFn1LxfcXF8B6VBsnKxiLkZ7zBUU",
    "1MFWqE6cZmmjvH22DEWmt1tKSms4iyASC7",
    "1Lh3oGDA7bxB7pQdJtgf29G3pf6rvxgNFU",
    "1DXNcbPEavwHQHtgPrjhkbG62f9SZBXp4v",
    "15MRQkVBF9crVPeHDjSEVEytCTVLJVGZSr",
    "1Q3pVMPLvKRNudhqz7uecd7C3iddUJLs21",
    "1HtFHz3q4fuhJj7paJAvtaNGmMbPnXRCa4",
    "1MY53uw7T3sLwL6FiGrM2LsiutSktmhSv2",
    "1FHVcojQZeZgw4dVFwAQiuArHdEw3p9j1Y",
    "15N8R8QVgPWvBe6jBt3Rw492eoxZzGBvda",
    "1N6RoUq8uYoJ8BKt7XHeruTJPgWMbi81gt",
    "1EtUHeLjh6oLgjCzyWJjgCtK7erRxArhJL",
    "165dGfnEBRc9948oyFbhz5GSRibfTTrEzR",
    "1BQTH1NYHXrQ8UDGcvD9q5b9pBTpx4muak",
    "1KJyNjeZbGmH93D2yP36ViV8smdtAWv1E6",
    "1EMxdcJsfN5jwtZRVRvztDns1LgquGUTwi",
    "1KknUTBcbmsPgkGuJANKeTu6UWW6R4AXkS",
    "15rDYUmonfHBL7efozxKwxY4L4JahvatuM",
    "1LxerPZSoPQAH4iJFHJQPpbiCCsZzYpzQD",
    "136aNBmeiZY3Qq69BdBepmLTR9wQpr16eo",
    "12sR6SKoVv4wF75pAp2srPH73t9uXchgei",
    "1LZ2gdtUzW9eUUEUXP4sGSHnsaCNYHuor3",
    "1PitScNLyp2HCygzadCh7FveTnfmpPbfp8",
    "1PHyTo7RGs9KMqa6xho8D2c8ezVcW726KV",
    "1MBnapr81FYkTBwcwGYwjEJw9fY9mHkQKf",
    "1HpEUoqUDw2k1KRiQskhLKUzkMUvBCQ8uA",
    "1P24SkyfwdPacGhAtDD8jqWf6H8NuqNZ2i",
    "1B9dx79wc1wT29nrBGCXeB7Y6YRWwW1mGC",
    "1KWP2WSDLeCbkeWrSJG6B3ga61g9UFEink",
    "1N5SkxySaiSVFgWDXdBD7dWKQrHS6VVHfC",
    "14qhMvWT1Fd7NFRgSgbEgHkm22pXmUi3X3",
    "1HUHJ311k21Z6uaSqbV5bJBqeEV6ky9HQ2",
    "1GVFSUerajQTuEJS1ewzd9KesAhNpVczRa",
    "1AXSyzMK4Ft3HTmgmUQP62UBFwwCqyWwjg",
    "1JnA9YikeoLtT4tVaBn4zNygFZWpVoneHN",
    "1GiA8LfZVP7J78yvC2qsvkH3NmAwLjBoY",
    "1M31Hk219DzWy8m1jfQ3jvvJa13SbaxaHZ",
    "14raEyLewYMk4Xqg76xJQxEygnhWhx6mUQ",
    "1AT4ES3ee1N6iBzzbdK8xvcAV3CBTRKcbS",
    "1AUVEbt1um1kVPADWcgdCxabVhquHZsT36",
    "18939AFStuaLPGuuh9Eus2BYoswcPXSSmF",
    "1KPnwTRu1GCSjNTrZTLExcnbGbXweGWXuF",
    "1NzpgnC9YtGDQbSU1gwAYJrrJT7xUmAbD4",
    "1DqCvD3EhP8JJ1gjtezBLmM2ucN41P64hY",
    "1JhZxqo9fSiTNt2tW2mZ7dnZzZhmTvVDyc",
    "1Eyyze6zJCKYXWXsmvRxFEyJZBeAPrSp5s",
    "1JYHzX3ndZEcnjrWSQ9VC7324TJ9BAoGy4",
    "1FGowKezKWnmh9Ls9PpUq9sNBYFX3Nz47A",
    "1CoaYYNG9XDHjWcDDubUWoRoZXwNMEjxLK",
    "1McVt1vMtCC7yn5b9wgX1833yCcLXzueeC",
    "1926m9AThSrsJ5hW6fJXSphvUgwePHZ8mz",
    "1BXNXy36RFmnC5oKCWTCy2iJaZYXiB1N4B",
    "1AqrfBgT8fMPCmeu3kwEwXbDBYkG9stjRZ",
    "1DpPdfN8kL9XGArEw4HfGNJDcEELyxVf5u",
    "1H2GoFDiFjmWitZMF46oGU1d6HtxHpaBQw",
    "1K9A72aRqK1LKqu2rcowK5bHrqLeb1YnVB",
    "1EcSNaF3RNNgJ1JdBHgADbYhmTdBsaLXHj",
    "1CvC4Hp8vend9hM9Fvrvc7ET8XPW39UtNN",
    "15Y6VpFsK7RwRtjfKA1ZUceeT4Kv8zYSxX",
    "1HizJ1EUKsVnmbpbpWa4xuijDE8zf5Tamw",
    "14jFzKqinNHjegYfF4FcpCxUs9PQK5WGfV",
    "1K2y6MDHB2tnp6MG4iMCbDMzwxpLTC8LmN",
    "1BfYrUZrZQZUfyaxQrc7hyjjpHadmHrKpJ",
    "1PB1BR8Xi6JybZ9x6DrrcUUdvnsqRpHac",
    "142FavKdwRb42h3Ziu4sZ61qFJTANjN5kP",
    "13VDs9j5XAG1zWuG7fE9C1GkypoSNP3MVM",
    "13uR4aqk9EKcWFznqfFrJdmsbYCXqmyxQ6",
    "1Hwk14ik1TBtoghS2ByaiU6rnN8Qckrxxb",
    "1LutqRAJkLqS9J81SfrPySJNnBT2cBdvEt",
    "1JtkuYJMG2MGycQiAczUT1HQu4hka3q47q",
    "1NiTAKAVa3H6kqF4EUJmr87wSk1hahWd8D",
    "1Df3nPzpQZaiViYvpEca5TeRewSJhUQeZy",
    "1Kz7e3MBHzzq2XQiHgRgwcEuM9AbUVhLa9",
    "178sjmHYnWxjJtcH3StVeNNaYC3Q5TJy37",
    "1NDTiygBwjhUwsK9n9qJqrKitDURg4csxP",
    "1GL37AoxoUj45fPNYf8Dq5CTncyRYLqo7",
    "14zo8Big6cvCgDLqWTaKogBv4q6UBocrQN",
    "146mRcaq9xpYaMmzXYYbiLGJE5EGBbTmaA",
    "1LpPxoDsckedWhBHppsbJciGSFH55oSUb2",
    "1PGL7QGU4vaGaBSHJG22CiuvKWZogkWd2v",
    "1FKP69FWiWEsZPr12aQRGBUBiXi49D4PsY",
    "15wzWJ1ugjTsNi2P1LXrzLwdvrAfd5vcFJ",
    "1Dxvnn9RX4gnSoNmSDn786zAWFkp2y2q7u",
    "1NRwpE13WLhBSLRoDvEziu6iVntkRHpxpy",
    "17ZaiyPFAB76bVXXDZNMHunzeoFjrwGtS2",
    "1G71CVQfwZgiNBW8V3xtYoBEnTbN9Gir36",
    "18C8KbniMq6AMp4nCp6BChQDiPS5AgbS15",
    "1HfvV6dgKqeLdLWKFU6RUHz5x6xyW6Ybuv",
    "1Hsomu9bgA6nprEba9n5FDiWntxCFuAp8t",
    "19mtPnAJtpDb8gyHkKbAULJr25WFDBbT1o",
    "13GiZRTmt4aYFE5rcjcKVPim4XXCKkwqJi",
    "18Bus1K9FrT9A3ZEvvRf3zXFmW74yDmzBq",
    "1DDhKRv1itpHJoAFiCJuik2Zv3AjtX7sDCd",
    "1PFUoroEpx9ezgUTYJj7TfCTf5B5WANLs4",
    "1DnCXwubVKYBUM6cpHga6UFcPYWdcjYMdE",
    "15AJXitn6DuSC6ugSPqdsv2MxcNYdgVcbC",
    "141fTonryMQxmkKcba9FstmyQv3tqdBzTY",
    "1FFYArxgMbCLi366pCrgdXfzGBBMGssX9",
    "12muChUsDE5KRdkFDKhRxSAHe5JD9VoPA9",
    "1EzjkMU8iGQThYVHdMSZGHwJNNH7DCg59v",
    "173M3yw1P1SfiPiDHABLGi5LLBAMohVQ7h",
    "1CAE6ej7VyAhgTtL1AYKTEByRJaCZKg8XM"
];
  const API_BASE = "https://blockstream.info/api";
  const STORAGE_KEY = "btc_balance_table_v2";

  const tableBody = document.getElementById("tableBody");
  const refreshBtn = document.getElementById("refreshBtn");
  const togglePollingBtn = document.getElementById("togglePolling");
  const intervalSelect = document.getElementById("intervalSelect");
  const lastUpdated = document.getElementById("lastUpdated");
  const notifBox = document.getElementById("notifBox");

  let polling = true;
  let pollTimer = null;

  const satsToBtc = s => (s / 100000000).toFixed(8);
  const explorer = a => `https://blockstream.info/address/${a}`;

  const loadState = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
  const saveState = s => localStorage.setItem(STORAGE_KEY, JSON.stringify(s));

  const notify = msg => {
    notifBox.style.display = "block";
    notifBox.textContent = msg;
    setTimeout(() => notifBox.style.display = "none", 7000);
  };

  const browserNotify = (title, msg) => {
    if (!("Notification" in window)) return;
    if (Notification.permission === "granted") {
      new Notification(title, { body: msg });
    } else if (Notification.permission !== "denied") {
      Notification.requestPermission().then(p => {
        if (p === "granted") new Notification(title, { body: msg });
      });
    }
  };

  async function getBalance(addr){
    const r = await fetch(`${API_BASE}/address/${addr}`);
    if(!r.ok) throw new Error("Gagal fetch");
    const j = await r.json();
    const cs = j.chain_stats || {};
    return cs.funded_txo_sum - cs.spent_txo_sum;
  }

  async function update(){
    refreshBtn.disabled = true;
    const oldState = loadState();
    const newState = {};
    tableBody.innerHTML = "";

    let i=1;
    for(const addr of ADDRESSES){
      let sats=0, delta="‚Äî", deltaClass="delta-none";
      try{
        sats = await getBalance(addr);
        const prev = oldState[addr] || 0;
        newState[addr] = sats;
        const diff = sats - prev;
        if(diff>0){
          delta = "+" + satsToBtc(diff);
          deltaClass = "delta-up";
          notify(`BTC Masuk ke ${addr}: +${satsToBtc(diff)} BTC`);
          browserNotify("BTC Masuk üöÄ", `${addr}\n+${satsToBtc(diff)} BTC`);
        } else if(diff<0){
          delta = satsToBtc(diff);
        } else if(prev===0){
          delta="(init)";
        } else {
          delta="0.00000000";
        }
      } catch(e){
        delta = "error";
      }

      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${i++}</td>
        <td class="addr">${addr}</td>
        <td>${satsToBtc(sats)}</td>
        <td class="${deltaClass}">${delta}</td>
        <td><a class="link" href="${explorer(addr)}" target="_blank">View</a></td>
      `;
      tableBody.appendChild(row);
    }
    lastUpdated.textContent = new Date().toLocaleTimeString();
    saveState(newState);
    refreshBtn.disabled = false;
  }

  function startPoll(){
    stopPoll();
    const sec = Number(intervalSelect.value);
    pollTimer = setInterval(()=>{ if(polling) update(); }, sec*1000);
    polling = true;
    togglePollingBtn.textContent = "‚è∏ Jeda";
    update();
  }

  function stopPoll(){
    clearInterval(pollTimer);
    polling=false;
    togglePollingBtn.textContent="‚ñ∂Ô∏è Lanjut";
  }

  refreshBtn.onclick = ()=>update();
  togglePollingBtn.onclick = ()=>polling ? stopPoll() : startPoll();
  intervalSelect.onchange = ()=>startPoll();

  if("Notification" in window) Notification.requestPermission();
  startPoll();
})();
</script>
</body>
</html>
